<!-- 
@for (frame of storyLines; track frame; let i = $index) {
    @if (this.storyIndex == i) {
        <div
            class="fixed inset-0 bg-cover bg-center bg-fixed z-0"
            style="
              background-image: url('{{mediaCdnUrl}}{{this.courseId}}/story/{{storyIndex}}.jpg');
              background-attachment: fixed;
            "
          >
            <div class="absolute inset-0 bg-black opacity-50 z-0"></div>
    
        </div>
        <div class="fixed my-10 z-10 flex flex-col align-middle justify-center text-center w-full h-full p-20">
            <h1 class=" text-5xl font-semibold "> {{storyLines[storyIndex]}}  </h1>
            <div class="flex flex-col gap-y-4 my-5">
                <div class="flex justify-center align-middle mx-auto gap-x-6">
                    @if (this.storyIndex > 0) {
                        <button (click)="previousStoryPage()" class=" hover:text-accent2 hover:scale-105 transition-all duration-200"> < Previous </button>
                    }
                    <button (click)="nextStoryPage()" class="my-auto text-lg hover:text-accent hover:scale-105 transition-all duration-200"> Next > </button>
                </div>
                <button (click)="this.storyIndex = -1" class="text-xs my-auto hover:text-accent3 hover:scale-105 transition-all duration-200"> Skip </button>
            </div>
        </div>
    }
} -->


<div
    class="fixed inset-0 bg-cover bg-center bg-fixed -z-20"
    style="
    background-image: url('{{mediaCdnUrl}}{{this.courseId}}/bg.jpg');
    background-attachment: fixed;
    "
>
    <div class="absolute inset-0 bg-black opacity-80 -z-20"></div>
</div>

<div class="w-full h-full z-20">
    <div class="w-full h-full flex flex-row mt-10">
        <div class="w-1/4 min-h-full flex justify-center align-middle my-auto">
            <svg viewBox="0 0 1024 1024" class="w-10 hover:w-14" (click)="this.router.navigate(['home'])" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M768 903.232l-50.432 56.768L256 512l461.568-448 50.432 56.768L364.928 512z" fill="#ffffff"></path></g></svg>
        </div>
        <h1 class="w-1/2 text-7xl text-center ">{{courseName}}</h1>
    </div>

    <div class="my-3 flex flex-row gap-x-4 justify-center">
        @if (this.modules != null) {
            <div class="flex flex-row justify-center gap-x-1">
                <svg class="w-6" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#ffffff" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css">   </style> <g> <path class="st0" d="M256.016,0C158.797,0.031,80.094,78.781,80.063,175.953c0.063,14.297,3.031,28.641,7.563,43.797 c7.969,26.438,21.094,55.328,36.281,84.547c45.563,87.359,110.328,177.391,110.688,177.891L256.016,512l21.391-29.813 c0.25-0.313,37.969-52.844,76.016-116.266c19.016-31.766,38.141-66.25,52.828-98.859c7.344-16.313,13.578-32.172,18.156-47.313 c4.531-15.156,7.469-29.5,7.531-43.797C431.906,78.781,353.203,0.031,256.016,0z M373.938,204.594 c-6.344,21.156-18.25,47.906-32.594,75.359c-21.484,41.266-48.281,84.375-69.625,116.953c-5.719,8.719-10.969,16.609-15.703,23.594 c-14.891-22-35.594-53.594-55.844-87.75c-17.719-29.906-35.063-61.75-47.656-90.25c-6.297-14.188-11.391-27.547-14.781-39.094 c-3.422-11.5-5-21.281-4.953-27.453c0.016-34.109,13.75-64.734,36.078-87.156c22.391-22.328,53.016-36.063,87.156-36.094 c34.109,0.031,64.75,13.766,87.125,36.094c22.359,22.422,36.078,53.047,36.094,87.156 C379.281,182.344,377.594,192.563,373.938,204.594z"></path> <path class="st0" d="M256.016,118.719c-31.594,0-57.219,25.641-57.219,57.234c0,31.609,25.625,57.219,57.219,57.219 c31.578,0,57.219-25.609,57.219-57.219C313.234,144.359,287.594,118.719,256.016,118.719z"></path> </g> </g></svg>
                <h1 class="text-xl text-center"> Sau Paulo, Brazil</h1>
            </div>
            <div class=" flex flex-row justify-center gap-x-1">
                <svg class="w-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 7V12L14.5 10.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                <h1 class="text-xl text-center"> 1 Hour</h1>
            </div>
        } @else {
            <h1 class="text3xl text-center my-auto">Coming Soon!</h1>
            <button class="underline p-1 rounded-md hover:scale-110 transition-all duration-100" (click)="this.router.navigate(['home']) "> Go back Home </button>
        }
    </div>

    <div class="w-full h-full p-5 grid grid-cols-3 justify-center align-middle gap-10">
        @for(module of modules; track module; let i = $index){
            <div class="p-5 w-full outline rounded-md flex mx-auto" [id]="i" (click)="goToModule(module.moduleId)">
                <h1 class="basis-4/5 text-white text-2xl">{{module.moduleName}}</h1>
                @if (module.hasCompleted) {
                    <button class="basis-1/5 float-right p-5 outline rounded-md" > View Again </button>
                } @else if (module.hasStarted) {
                    <button class="basis-1/5 float-right p-5 outline rounded-md outline-accent hover:scale-105 text-accent  hover:bg-accent2 hover:outline-accent hover:text-accent transition duration-200"> Finish </button>
                } @else {
                    <button class="basis-1/5 float-right p-5 outline rounded-md outline-accent2 hover:scale-105 hover:bg-accent2 transition duration-200 "> Start </button>
                }
            </div>
        }
    </div>
</div>




  
  